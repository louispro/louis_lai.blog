<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Regular.woff2" as="font">
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Bold.woff2" as="font">
    
    
    
        <link rel="shortcut icon" href="/icons/favicon.ico">
    

    
    
        
<link rel="stylesheet" href="/css/mdui.min.v1.0.0.css">

    
    
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/iconfont.css">


    
    

    
        <script data-ad-client="ca-" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    












          


    
    
    <title>
        
            SSM整合 | Louis
        
    </title>
    
    
<meta name="generator" content="Hexo 5.4.0"></head>
<body class="mdui-drawer-body-left mdui-appbar-with-toolbar mdui-theme-primary-teal mdui-theme-accent-blue">
  
  <header class="mdui-appbar mdui-appbar-fixed">
  <div id="toolbar" class="mdui-toolbar mdui-color-theme">
    <button class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="iconfont icon-menu"></i></button>
    <a href="/" class="mdui-typo-headline">Louis</a>
    <a href="/" class="header-subtitle mdui-typo-headline">天天向上</a>
    <div class="mdui-toolbar-spacer"></div>
    <button class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'search'}"><i class="iconfont icon-search"></i></button>
  </div>
</header>

<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字" onfocus="listenSearchFunc()">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>

  <aside id="sidebar" class="mdui-drawer">
    <div class="mdui-tab" mdui-tab>
        <a href="#sidebar-tab1" id="sidebartab" class="mdui-ripple mdui-tab-active">站点概览</a>
        <a href="#sidebar-tab2" id="sidebartab" class="mdui-ripple">关于</a>
    </div>

    
    <div id="sidebar-tab1" class="mdui-p-a-1">
        <div class="mdui-list">
            
                
                <a href="/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-home"></i>
                    </div>
                    <div class="mdui-list-item-content">主页</div>
                </a>
            
                
                <a href="/tags/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-bookmark"></i>
                    </div>
                    <div class="mdui-list-item-content">标签</div>
                </a>
            
                
                <a href="/categories/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-folder"></i>
                    </div>
                    <div class="mdui-list-item-content">分类</div>
                </a>
            
                
                <a href="/archives/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-archive"></i>
                    </div>
                    <div class="mdui-list-item-content">归档</div>
                </a>
            
                
                <a href="/tools/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-tools"></i>
                    </div>
                    <div class="mdui-list-item-content">工具箱</div>
                </a>
            
                
                <a href="/about/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-user"></i>
                    </div>
                    <div class="mdui-list-item-content">关于</div>
                </a>
            
            <div class="mdui-list-item mdui-ripple">
                <div class="mdui-list-item-icon">
                    <i class="iconfont icon-moon"></i>
                </div>
                <div class="mdui-list-item-content">夜间模式</div>
                <label class="mdui-switch" id="darkmode">
                  <input type="checkbox" id="nightmode_switch"/>
                  <i class="mdui-switch-icon"></i>
                </label>
            </div>           
        </div>
    </div>

    
    <div id="sidebar-tab2" class="mdui-p-a-1">
        <div class="sidebar-overview">
            <div class="sidebar-avatar">
                
                    <img src="/icons/avatar.gif"/>
                
            </div>
            <div class="sidebar-author-name">Louis</div>
            <div class="sidebar-description">A blog base on hexo,themes copy from https://github.com/kb1000fx/hexo-theme-meadow,thanks</div>
        </div>
        <div class="sidebar-links">
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-mail"></i></span>
                    <a href="mailto:1598358615@qq.com" class="mdui-chip-title">E-Mail</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a target="_blank" rel="noopener" href="https://github.com/louispro" class="mdui-chip-title">GitHub</a>
                </div>
            
        </div>
        <ul class="mdui-list" mdui-collapse="{accordion: true}">
            <li class="mdui-collapse-item">
                <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-link"></i>
                    </div>
                    <div class="mdui-list-item-content">友情链接</div>
                    <div class="mdui-collapse-item-arrow">
                        <i class="mdui-list-item-icon iconfont icon-angle-down"></i>
                    </div>
                </div>
                <ul id="linksList" class="mdui-collapse-item-body mdui-list mdui-list-dense">
                    
                        <a target="_blank" rel="noopener" href="https://garybear.cn/hexo-theme-meadow/" class="mdui-list-item mdui-ripple">
                            Meadow说明文档
                        </a>
                    
                </ul>
            </li>
        </ul>
    </div>

    <div class="mdui-divider"></div>
    
    
</aside>
  
  <main id="main-contain" class="mdui-container mdui-m-t-5">
    <article id="article" class="mdui-card mdui-p-b-2 mdui-m-b-5">
  <header class="mdui-card-media">
    
    
      <div class="post-header"> 
  <a class="post-header-title" href="/2021/09/10/SSM%E6%95%B4%E5%90%88-md/">SSM整合</a>
  <div class="post-header-meta">
    <span>
      <span class="iconfont icon-calendar"></span>
      发布于:&nbsp;2021-09-10
    </span>
    <span>
      <span class="iconfont icon-calendar-check"></span>
      更新于:&nbsp;2021-09-12
    </span>
    <span>
      <span class="iconfont icon-folder"></span>
      分类于:&nbsp;<a class="category-link" href="/categories/Java/">Java</a> > <a class="category-link" href="/categories/Java/SSM/">SSM</a>
    </span>
    
      <span>
        <span class="iconfont icon-eye"></span>
        阅读次数:&nbsp;
        <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
      </span>
    
  </div>
</div>   
    



    
    
    <div class="mdui-card-menu">
    
      <button class="mdui-btn mdui-btn-icon mdui-text-color-teal" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="iconfont icon-share"></i></button>
      <ul class="mdui-menu" id="share_menu">
        <li class="mdui-menu-item">
          <a href="http://service.weibo.com/share/share.php?appkey=&title=SSM整合&url=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/&pic=http://example.com/null&searchPic=false&style=simple" target="_blank" class="mdui-ripple">分享到 Weibo</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://twitter.com/intent/tweet?text=SSM整合&url=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/&via=Louis" target="_blank" class="mdui-ripple">分享到 Twitter</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/" target="_blank" class="mdui-ripple">分享到 Facebook</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://plus.google.com/share?url=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/" target="_blank" class="mdui-ripple">分享到 Google+</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/&title=SSM整合" target="_blank" class="mdui-ripple">分享到 LinkedIn</a>
        </li>
        <li class="mdui-menu-item">
          <a href="http://connect.qq.com/widget/shareqq/index.html?site=Louis&title=SSM整合&summary=A blog base on hexo,themes copy from https://github.com/kb1000fx/hexo-theme-meadow,thanks&pics=http://example.com/null&url=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/" target="_blank" class="mdui-ripple">分享到 QQ</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://telegram.me/share/url?url=http://example.com/2021/09/10/SSM%E6%95%B4%E5%90%88-md/&text=SSM整合" target="_blank" class="mdui-ripple">分享到 Telegram</a>
        </li>
      </ul>
    
  </div>
  </header>
  
  
  
  
  <div class="post-tags">
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /tags/Java%EF%BC%8CSSM/ >Java，SSM</a>
      </i>
    
  </div>

  
  <div class="mdui-card-content mdui-typo mdui-p-x-4">
    <div align="center">
    <h3>
        将Spring，SpringMVC，Mybatis整合到一起涉及到非常多东西，本博文将进行简要介绍
    </h3>
</div>

<br>

<div align="center">

<p><img src="/2021/09/10/SSM%E6%95%B4%E5%90%88-md/ssm.png" alt="ssm"></p>
</div>

<span id="more"></span>

<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><h3 id="nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-一、导包"><a href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-一、导包" class="headerlink" title="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一、导包"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#one">一、导包</a></h3><h3 id="nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-二、配置web-xml"><a href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-二、配置web-xml" class="headerlink" title="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;二、配置web.xml"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#two">二、配置web.xml</a></h3><h3 id="nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-三、配置spring-xml和springmvc-xml"><a href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-三、配置spring-xml和springmvc-xml" class="headerlink" title="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;三、配置spring.xml和springmvc.xml"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#three">三、配置spring.xml和springmvc.xml</a></h3><h3 id="nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-四、整合过程中遇到的问题"><a href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-四、整合过程中遇到的问题" class="headerlink" title="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;四、整合过程中遇到的问题"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#four">四、整合过程中遇到的问题</a></h3><p><br><hr></p>
<h2 id="一、导包"><a href="#一、导包" class="headerlink" title="一、导包"></a><h2 id="one">一、导包<h2></h2><p><code>pom.xml</code>内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>ssm Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- FIXME change it to the project&#x27;s website --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.example.com<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.9<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.9<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.0.0.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ssm模块--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--添加spring dao依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-orm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--日志和事务增强--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sourceforge.cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>com.springsource.net.sf.cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aopalliance<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>com.springsource.org.aopalliance<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>com.springsource.org.aspectj.weaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--jsp和servelt模块--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.1-b03<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--jstl标签--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>taglibs-standard-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>taglibs-standard-spec<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--数据库连接--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--添加后端校验功能--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>7.0.1.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator-annotation-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>7.0.1.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ajax依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0-rc2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0-rc2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0-rc2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--文件上传和下载--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--数据库mybatis--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mybatis依赖的包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--第三方二级缓存依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sf.ehcache<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ehcache-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--spring和mybatis整合--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>ssm<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span><span class="comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-clean-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-install-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>包依赖图：</p>
<div align="center">

<p><img src="/2021/09/10/SSM%E6%95%B4%E5%90%88-md/jar.png" alt="jar"></p>
</div>

<h2 id="二、配置web-xml"><a href="#二、配置web-xml" class="headerlink" title="二、配置web.xml"></a><h2 id="two">二、配置web.xml<h2></h2><p>主要是在<code>web.xml</code>中配置<code>spring</code>容器和<code>springmvc</code>的前端控制器以及中文乱码和rest风格的请求</p>
<p><code>web.xml</code>内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">web-app</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring/spring.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--配置springmvc--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--配置前端控制器--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ssm<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring/springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ssm<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--中文乱码--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--rest风格的请求--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>hiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>hiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="三、配置springmvc-xml和spring-xml"><a href="#三、配置springmvc-xml和spring-xml" class="headerlink" title="三、配置springmvc.xml和spring.xml"></a><h2 id="three">三、配置<code>springmvc.xml</code>和<code>spring.xml</code><h2></h2><p><code>springmvc</code>和<code>spring</code>最好整合成两个容器，这样便于管理组件，分工明确。</p>
<p><code>springmvc</code>主要负责视图解析，文件上传，请求转发重定向等。</p>
<p><code>springmvc.xml</code>内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--包扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.louis.ssm&quot;</span> <span class="attr">use-default-filters</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--视图解析器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/pages/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--文件上传--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;#&#123;1024*1024*20&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--扫描静态资源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--扫描动态资源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>spring</code>则主要负责<code>service</code>层和<code>dao</code>持久层</p>
<p><code>spring.xml</code>内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--包扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.louis.ssm&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--数据库配置信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:dbconfig.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置数据源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;c3p0&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.user&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.jdbcUrl&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.maxPoolSize&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.minPoolSize&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置mybatis操作数据库--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactoryBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置mybatis配置文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis/mybatis-config.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;c3p0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--指定xml映射文件的位置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:com/louis/ssm/dao/EmployeeDao.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--指定dao接口所在的包--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.louis.ssm.dao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;tm&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;c3p0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--基于xml配置事务，哪些方法切入事务--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置切入点--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;myPoint&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.louis.ssm.service.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;myTx&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;myPoint&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置十五增强，事务属性，事务建议--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;myTx&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;tm&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置事务属性--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其中<code>spring.xml</code>中也整合了<code>mybatis</code>：</p>
<p>其配置如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置mybatis操作数据库--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactoryBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置mybatis配置文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis/mybatis-config.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;c3p0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--指定xml映射文件的位置--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:com/louis/ssm/dao/EmployeeDao.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--指定dao接口所在的包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.louis.ssm.dao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>mybatis-config.xml</code>是<code>mybatis</code>的全局配置文件，其内容和正常的<code>mybatis-config.xml</code>配置不同，数据库的配置和数据<code>xml</code>映射文件的配置都放在了<code>spring.xml</code>中，其内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--开启属性延迟加载--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--开启属性按需加载--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;aggressiveLazyLoading&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--开启二级缓存--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="四、整合过程中遇到的问题"><a href="#四、整合过程中遇到的问题" class="headerlink" title="四、整合过程中遇到的问题"></a><h2 id="four">四、整合过程中遇到的问题<h2></h2><h3 id="4-1、java-lang-NoClassDefFoundError-org-aspectj-weaver-reflect-ReflectionWorld-ReflectionWorldException"><a href="#4-1、java-lang-NoClassDefFoundError-org-aspectj-weaver-reflect-ReflectionWorld-ReflectionWorldException" class="headerlink" title="4.1、java.lang.NoClassDefFoundError: org/aspectj/weaver/reflect/ReflectionWorld$ReflectionWorldException"></a>4.1、java.lang.NoClassDefFoundError: org/aspectj/weaver/reflect/ReflectionWorld$ReflectionWorldException</h3><p>原因：缺少<code>spring-aspects</code></p>
<p>解决：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--缺少的包--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2、异常java-lang-NoSuchMethodError"><a href="#4-2、异常java-lang-NoSuchMethodError" class="headerlink" title="4.2、异常java.lang.NoSuchMethodError"></a>4.2、异常java.lang.NoSuchMethodError</h3><p>原因：<code>mybatis</code>版本过低</p>
<p>解决：<code>mybatis</code>版本得在<code>3.4.2</code>或者以上版本</p>
<h3 id="4-3、java-lang-ClassNotFoundException-org-springframework-web-context-ContextLoaderListener"><a href="#4-3、java-lang-ClassNotFoundException-org-springframework-web-context-ContextLoaderListener" class="headerlink" title="4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener"></a>4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener</h3><p>原因：项目在部署之后<code>spring-web</code>并没有部署到<code>WEB-INF/lib</code>目录下</p>
<p>解决：</p>
<p><code>File-&gt;Project Structure</code>点击左侧的<code>Artifacts</code>,然后找到<code>Output Layout</code>选项卡</p>
<p>右键单击<code>Available Elements</code>下面的项目名称，选择<code>Put into Output Root</code></p>
<p><img src="/2021/09/10/SSM%E6%95%B4%E5%90%88-md/error4.3.png" alt="error4.3"></p>
</h2></h2></h2></h2></h2></h2></h2></h2>
  </div>
  <!--文末结束语-->
  
    <div style="text-align:center;color: #ccc;font-size:24px;"> --- 本文结束 <i class="iconfont icon-heartbeat" style="font-size:24px;"></i> The End --- </div>
  
  <!--页脚广告-->
  
  <div class="mdui-divider"></div>
  
  <nav>
    
      <a rel="prev" class="post-nav-item mdui-float-left" href="/2021/09/13/%E9%87%8D%E5%86%99%E5%92%8C%E9%87%8D%E8%BD%BD-md/">
        <i class="iconfont icon-angle-left"></i>
        <span>重写和重载</span>
      </a>
    
    
      <a rel="next" class="post-nav-item mdui-float-right" href="/2021/09/07/AJAX-md/">
        <span>AJAX</span>
        <i class="iconfont icon-angle-right"></i>
      </a>
    
  </nav>
</article>




  <div class="toc-button"  style="z-index: 100;">
    <button class="mdui-fab mdui-ripple mdui-color-teal" mdui-menu="{target: '#toc'}"><i class="iconfont icon-list"></i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item">
        <a href="/2021/09/10/SSM%E6%95%B4%E5%90%88-md/" id="toc-header" class="mdui-ripple">文章目录</a>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">
        将Spring，SpringMVC，Mybatis整合到一起涉及到非常多东西，本博文将进行简要介绍
    </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number"></span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-%E4%B8%80%E3%80%81%E5%AF%BC%E5%8C%85"><span class="toc-number">1.</span> <span class="toc-text">        一、导包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AEweb-xml"><span class="toc-number">2.</span> <span class="toc-text">        二、配置web.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AEspring-xml%E5%92%8Cspringmvc-xml"><span class="toc-number">3.</span> <span class="toc-text">        三、配置spring.xml和springmvc.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-%E5%9B%9B%E3%80%81%E6%95%B4%E5%90%88%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">        四、整合过程中遇到的问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AF%BC%E5%8C%85"><span class="toc-number"></span> <span class="toc-text">一、导包pom.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;

&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;

  &lt;groupId&gt;org.example&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;ssm&lt;&#x2F;artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;
  &lt;packaging&gt;war&lt;&#x2F;packaging&gt;

  &lt;name&gt;ssm Maven Webapp&lt;&#x2F;name&gt;
  &lt;!-- FIXME change it to the project&#39;s website --&gt;
  &lt;url&gt;http:&#x2F;&#x2F;www.example.com&lt;&#x2F;url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;&#x2F;project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.9&lt;&#x2F;maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.9&lt;&#x2F;maven.compiler.target&gt;
    &lt;spring.version&gt;5.0.0.RELEASE&lt;&#x2F;spring.version&gt;
  &lt;&#x2F;properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;
      &lt;version&gt;4.12&lt;&#x2F;version&gt;
      &lt;scope&gt;test&lt;&#x2F;scope&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--ssm模块--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-test&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--添加spring dao依赖--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-jdbc&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-tx&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-orm&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--日志和事务增强--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-logging&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;commons-logging&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.0.3&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;net.sourceforge.cglib&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;com.springsource.net.sf.cglib&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.2.0&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.aopalliance&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;com.springsource.org.aopalliance&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.0.0&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.aspectj&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;com.springsource.org.aspectj.weaver&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.6.4.RELEASE&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--jsp和servelt模块--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;javax.servlet-api&lt;&#x2F;artifactId&gt;
      &lt;version&gt;4.0.1&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet.jsp&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jsp-api&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.2.1-b03&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--jstl标签--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.taglibs&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;taglibs-standard-impl&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.5&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.taglibs&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;taglibs-standard-spec&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.5&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--数据库连接--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;
      &lt;version&gt;8.0.25&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.mchange&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;c3p0&lt;&#x2F;artifactId&gt;
      &lt;version&gt;0.9.5.5&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--添加后端校验功能--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;hibernate-validator&lt;&#x2F;artifactId&gt;
      &lt;version&gt;7.0.1.Final&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;&#x2F;artifactId&gt;
      &lt;version&gt;7.0.1.Final&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--ajax依赖--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jackson-annotations&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.13.0-rc2&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jackson-core&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.13.0-rc2&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jackson-databind&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.13.0-rc2&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--文件上传和下载--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-fileupload&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;commons-fileupload&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.4&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-io&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;commons-io&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.11.0&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--数据库mybatis--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mybatis&lt;&#x2F;artifactId&gt;
      &lt;version&gt;3.5.7&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--mybatis依赖的包--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;
      &lt;version&gt;8.0.25&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;log4j&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;log4j&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.12&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--第三方二级缓存依赖--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis.caches&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mybatis-ehcache&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.1&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.slf4j&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;slf4j-log4j12&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.7.32&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;net.sf.ehcache&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;ehcache-core&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.6.11&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--spring和mybatis整合--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mybatis-spring&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.0.6&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

  &lt;&#x2F;dependencies&gt;

  &lt;build&gt;
    &lt;finalName&gt;ssm&lt;&#x2F;finalName&gt;
    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-clean-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.1.0&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;!-- see http:&#x2F;&#x2F;maven.apache.org&#x2F;ref&#x2F;current&#x2F;maven-core&#x2F;default-bindings.html#Plugin_bindings_for_war_packaging --&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-resources-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.0.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.8.0&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-surefire-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;2.22.1&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-war-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.2.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-install-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;2.5.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-deploy-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;2.8.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
      &lt;&#x2F;plugins&gt;
    &lt;&#x2F;pluginManagement&gt;
  &lt;&#x2F;build&gt;
&lt;&#x2F;project&gt;



包依赖图：





二、配置web.xml主要是在web.xml中配置spring容器和springmvc的前端控制器以及中文乱码和rest风格的请求
web.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
&lt;!DOCTYPE web-app PUBLIC
 &quot;-&#x2F;&#x2F;Sun Microsystems, Inc.&#x2F;&#x2F;DTD Web Application 2.3&#x2F;&#x2F;EN&quot;
 &quot;http:&#x2F;&#x2F;java.sun.com&#x2F;dtd&#x2F;web-app_2_3.dtd&quot; &gt;

&lt;web-app xmlns&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&quot;
         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_4_0.xsd&quot;
         version&#x3D;&quot;4.0&quot;&gt;
  &lt;display-name&gt;Archetype Created Web Application&lt;&#x2F;display-name&gt;

  &lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
    &lt;param-value&gt;classpath:spring&#x2F;spring.xml&lt;&#x2F;param-value&gt;
  &lt;&#x2F;context-param&gt;
  &lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;&#x2F;listener-class&gt;
  &lt;&#x2F;listener&gt;

  &lt;!--配置springmvc--&gt;
  &lt;!--配置前端控制器--&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;classpath:spring&#x2F;springmvc.xml&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;load-on-startup&gt;1&lt;&#x2F;load-on-startup&gt;
  &lt;&#x2F;servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;servlet-mapping&gt;

  &lt;!--中文乱码--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;&#x2F;filter-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;UTF-8&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;forceEncoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;true&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;

  &lt;!--rest风格的请求--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;&#x2F;filter-class&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;
&lt;&#x2F;web-app&gt;



三、配置springmvc.xml和spring.xmlspringmvc和spring最好整合成两个容器，这样便于管理组件，分工明确。
springmvc主要负责视图解析，文件上传，请求转发重定向等。
springmvc.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;
    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot; use-default-filters&#x3D;&quot;false&quot;&gt;
        &lt;context:include-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--视图解析器--&gt;
    &lt;bean class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;WEB-INF&#x2F;pages&#x2F;&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--文件上传--&gt;
    &lt;bean id&#x3D;&quot;multipartResolver&quot; class&#x3D;&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
        &lt;property name&#x3D;&quot;maxUploadSize&quot; value&#x3D;&quot;#{1024*1024*20}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;defaultEncoding&quot; value&#x3D;&quot;utf-8&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--扫描静态资源--&gt;
    &lt;mvc:default-servlet-handler&#x2F;&gt;
    &lt;!--扫描动态资源--&gt;
    &lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;


&lt;&#x2F;beans&gt;


spring则主要负责service层和dao持久层
spring.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;
       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;

    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot;&gt;
        &lt;context:exclude-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--数据库配置信息--&gt;
    &lt;context:property-placeholder location&#x3D;&quot;classpath:dbconfig.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;
    &lt;!--配置数据源--&gt;
    &lt;bean id&#x3D;&quot;c3p0&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;${jdbc.user}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;${jdbc.password}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;${jdbc.driverClass}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;maxPoolSize&quot; value&#x3D;&quot;${jdbc.maxPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;minPoolSize&quot; value&#x3D;&quot;${jdbc.minPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--配置mybatis操作数据库--&gt;
    &lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;!--配置mybatis配置文件--&gt;
        &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
        &lt;!--指定xml映射文件的位置--&gt;
        &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;!--指定dao接口所在的包--&gt;
        &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;
    &lt;bean id&#x3D;&quot;tm&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--基于xml配置事务，哪些方法切入事务--&gt;
    &lt;aop:config&gt;
        &lt;!--配置切入点--&gt;
        &lt;aop:pointcut id&#x3D;&quot;myPoint&quot; expression&#x3D;&quot;execution(* com.louis.ssm.service.*.*(..))&quot;&#x2F;&gt;
        &lt;aop:advisor advice-ref&#x3D;&quot;myTx&quot; pointcut-ref&#x3D;&quot;myPoint&quot;&#x2F;&gt;
    &lt;&#x2F;aop:config&gt;

    &lt;!--配置十五增强，事务属性，事务建议--&gt;
    &lt;tx:advice id&#x3D;&quot;myTx&quot; transaction-manager&#x3D;&quot;tm&quot;&gt;
        &lt;!--配置事务属性--&gt;
        &lt;tx:attributes&gt;
            &lt;tx:method name&#x3D;&quot;*&quot;&#x2F;&gt;
        &lt;&#x2F;tx:attributes&gt;
    &lt;&#x2F;tx:advice&gt;
&lt;&#x2F;beans&gt;


其中spring.xml中也整合了mybatis：
其配置如下：
1
2
3
4
5
6
7
8
9
10
11
12
&lt;!--配置mybatis操作数据库--&gt;
&lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;!--配置mybatis配置文件--&gt;
    &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;!--指定xml映射文件的位置--&gt;
    &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;
&lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;!--指定dao接口所在的包--&gt;
    &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;


mybatis-config.xml是mybatis的全局配置文件，其内容和正常的mybatis-config.xml配置不同，数据库的配置和数据xml映射文件的配置都放在了spring.xml中，其内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;
        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;settings&gt;
        &lt;setting name&#x3D;&quot;mapUnderscoreToCamelCase&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启属性延迟加载--&gt;
        &lt;setting name&#x3D;&quot;lazyLoadingEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;
        &lt;!--开启属性按需加载--&gt;
        &lt;setting name&#x3D;&quot;aggressiveLazyLoading&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启二级缓存--&gt;
&lt;!--        &lt;setting name&#x3D;&quot;cacheEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;--&gt;
    &lt;&#x2F;settings&gt;
&lt;&#x2F;configuration&gt;




四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#one"><span class="toc-number"></span> <span class="toc-text">一、导包pom.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;

&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;

  &lt;groupId&gt;org.example&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;ssm&lt;&#x2F;artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;
  &lt;packaging&gt;war&lt;&#x2F;packaging&gt;

  &lt;name&gt;ssm Maven Webapp&lt;&#x2F;name&gt;
  &lt;!-- FIXME change it to the project&#39;s website --&gt;
  &lt;url&gt;http:&#x2F;&#x2F;www.example.com&lt;&#x2F;url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;&#x2F;project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.9&lt;&#x2F;maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.9&lt;&#x2F;maven.compiler.target&gt;
    &lt;spring.version&gt;5.0.0.RELEASE&lt;&#x2F;spring.version&gt;
  &lt;&#x2F;properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;
      &lt;version&gt;4.12&lt;&#x2F;version&gt;
      &lt;scope&gt;test&lt;&#x2F;scope&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--ssm模块--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-test&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--添加spring dao依赖--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-jdbc&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-tx&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;spring-orm&lt;&#x2F;artifactId&gt;
      &lt;version&gt;${spring.version}&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--日志和事务增强--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-logging&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;commons-logging&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.0.3&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;net.sourceforge.cglib&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;com.springsource.net.sf.cglib&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.2.0&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.aopalliance&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;com.springsource.org.aopalliance&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.0.0&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.aspectj&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;com.springsource.org.aspectj.weaver&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.6.4.RELEASE&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--jsp和servelt模块--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;javax.servlet-api&lt;&#x2F;artifactId&gt;
      &lt;version&gt;4.0.1&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet.jsp&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jsp-api&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.2.1-b03&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--jstl标签--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.taglibs&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;taglibs-standard-impl&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.5&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.taglibs&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;taglibs-standard-spec&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.5&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--数据库连接--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;
      &lt;version&gt;8.0.25&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.mchange&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;c3p0&lt;&#x2F;artifactId&gt;
      &lt;version&gt;0.9.5.5&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--添加后端校验功能--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;hibernate-validator&lt;&#x2F;artifactId&gt;
      &lt;version&gt;7.0.1.Final&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;&#x2F;artifactId&gt;
      &lt;version&gt;7.0.1.Final&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--ajax依赖--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jackson-annotations&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.13.0-rc2&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jackson-core&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.13.0-rc2&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;jackson-databind&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.13.0-rc2&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--文件上传和下载--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-fileupload&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;commons-fileupload&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.4&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-io&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;commons-io&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.11.0&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--数据库mybatis--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mybatis&lt;&#x2F;artifactId&gt;
      &lt;version&gt;3.5.7&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--mybatis依赖的包--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;
      &lt;version&gt;8.0.25&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;log4j&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;log4j&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.12&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;!--第三方二级缓存依赖--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis.caches&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mybatis-ehcache&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.2.1&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.slf4j&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;slf4j-log4j12&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.7.32&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;net.sf.ehcache&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;ehcache-core&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.6.11&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

    &lt;!--spring和mybatis整合--&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mybatis-spring&lt;&#x2F;artifactId&gt;
      &lt;version&gt;2.0.6&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;

  &lt;&#x2F;dependencies&gt;

  &lt;build&gt;
    &lt;finalName&gt;ssm&lt;&#x2F;finalName&gt;
    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-clean-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.1.0&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;!-- see http:&#x2F;&#x2F;maven.apache.org&#x2F;ref&#x2F;current&#x2F;maven-core&#x2F;default-bindings.html#Plugin_bindings_for_war_packaging --&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-resources-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.0.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.8.0&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-surefire-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;2.22.1&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-war-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;3.2.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-install-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;2.5.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-deploy-plugin&lt;&#x2F;artifactId&gt;
          &lt;version&gt;2.8.2&lt;&#x2F;version&gt;
        &lt;&#x2F;plugin&gt;
      &lt;&#x2F;plugins&gt;
    &lt;&#x2F;pluginManagement&gt;
  &lt;&#x2F;build&gt;
&lt;&#x2F;project&gt;



包依赖图：





二、配置web.xml主要是在web.xml中配置spring容器和springmvc的前端控制器以及中文乱码和rest风格的请求
web.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
&lt;!DOCTYPE web-app PUBLIC
 &quot;-&#x2F;&#x2F;Sun Microsystems, Inc.&#x2F;&#x2F;DTD Web Application 2.3&#x2F;&#x2F;EN&quot;
 &quot;http:&#x2F;&#x2F;java.sun.com&#x2F;dtd&#x2F;web-app_2_3.dtd&quot; &gt;

&lt;web-app xmlns&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&quot;
         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_4_0.xsd&quot;
         version&#x3D;&quot;4.0&quot;&gt;
  &lt;display-name&gt;Archetype Created Web Application&lt;&#x2F;display-name&gt;

  &lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
    &lt;param-value&gt;classpath:spring&#x2F;spring.xml&lt;&#x2F;param-value&gt;
  &lt;&#x2F;context-param&gt;
  &lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;&#x2F;listener-class&gt;
  &lt;&#x2F;listener&gt;

  &lt;!--配置springmvc--&gt;
  &lt;!--配置前端控制器--&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;classpath:spring&#x2F;springmvc.xml&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;load-on-startup&gt;1&lt;&#x2F;load-on-startup&gt;
  &lt;&#x2F;servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;servlet-mapping&gt;

  &lt;!--中文乱码--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;&#x2F;filter-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;UTF-8&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;forceEncoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;true&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;

  &lt;!--rest风格的请求--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;&#x2F;filter-class&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;
&lt;&#x2F;web-app&gt;



三、配置springmvc.xml和spring.xmlspringmvc和spring最好整合成两个容器，这样便于管理组件，分工明确。
springmvc主要负责视图解析，文件上传，请求转发重定向等。
springmvc.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;
    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot; use-default-filters&#x3D;&quot;false&quot;&gt;
        &lt;context:include-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--视图解析器--&gt;
    &lt;bean class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;WEB-INF&#x2F;pages&#x2F;&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--文件上传--&gt;
    &lt;bean id&#x3D;&quot;multipartResolver&quot; class&#x3D;&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
        &lt;property name&#x3D;&quot;maxUploadSize&quot; value&#x3D;&quot;#{1024*1024*20}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;defaultEncoding&quot; value&#x3D;&quot;utf-8&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--扫描静态资源--&gt;
    &lt;mvc:default-servlet-handler&#x2F;&gt;
    &lt;!--扫描动态资源--&gt;
    &lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;


&lt;&#x2F;beans&gt;


spring则主要负责service层和dao持久层
spring.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;
       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;

    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot;&gt;
        &lt;context:exclude-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--数据库配置信息--&gt;
    &lt;context:property-placeholder location&#x3D;&quot;classpath:dbconfig.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;
    &lt;!--配置数据源--&gt;
    &lt;bean id&#x3D;&quot;c3p0&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;${jdbc.user}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;${jdbc.password}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;${jdbc.driverClass}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;maxPoolSize&quot; value&#x3D;&quot;${jdbc.maxPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;minPoolSize&quot; value&#x3D;&quot;${jdbc.minPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--配置mybatis操作数据库--&gt;
    &lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;!--配置mybatis配置文件--&gt;
        &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
        &lt;!--指定xml映射文件的位置--&gt;
        &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;!--指定dao接口所在的包--&gt;
        &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;
    &lt;bean id&#x3D;&quot;tm&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--基于xml配置事务，哪些方法切入事务--&gt;
    &lt;aop:config&gt;
        &lt;!--配置切入点--&gt;
        &lt;aop:pointcut id&#x3D;&quot;myPoint&quot; expression&#x3D;&quot;execution(* com.louis.ssm.service.*.*(..))&quot;&#x2F;&gt;
        &lt;aop:advisor advice-ref&#x3D;&quot;myTx&quot; pointcut-ref&#x3D;&quot;myPoint&quot;&#x2F;&gt;
    &lt;&#x2F;aop:config&gt;

    &lt;!--配置十五增强，事务属性，事务建议--&gt;
    &lt;tx:advice id&#x3D;&quot;myTx&quot; transaction-manager&#x3D;&quot;tm&quot;&gt;
        &lt;!--配置事务属性--&gt;
        &lt;tx:attributes&gt;
            &lt;tx:method name&#x3D;&quot;*&quot;&#x2F;&gt;
        &lt;&#x2F;tx:attributes&gt;
    &lt;&#x2F;tx:advice&gt;
&lt;&#x2F;beans&gt;


其中spring.xml中也整合了mybatis：
其配置如下：
1
2
3
4
5
6
7
8
9
10
11
12
&lt;!--配置mybatis操作数据库--&gt;
&lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;!--配置mybatis配置文件--&gt;
    &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;!--指定xml映射文件的位置--&gt;
    &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;
&lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;!--指定dao接口所在的包--&gt;
    &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;


mybatis-config.xml是mybatis的全局配置文件，其内容和正常的mybatis-config.xml配置不同，数据库的配置和数据xml映射文件的配置都放在了spring.xml中，其内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;
        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;settings&gt;
        &lt;setting name&#x3D;&quot;mapUnderscoreToCamelCase&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启属性延迟加载--&gt;
        &lt;setting name&#x3D;&quot;lazyLoadingEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;
        &lt;!--开启属性按需加载--&gt;
        &lt;setting name&#x3D;&quot;aggressiveLazyLoading&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启二级缓存--&gt;
&lt;!--        &lt;setting name&#x3D;&quot;cacheEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;--&gt;
    &lt;&#x2F;settings&gt;
&lt;&#x2F;configuration&gt;




四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#one"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AEweb-xml"><span class="toc-number"></span> <span class="toc-text">二、配置web.xml主要是在web.xml中配置spring容器和springmvc的前端控制器以及中文乱码和rest风格的请求
web.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
&lt;!DOCTYPE web-app PUBLIC
 &quot;-&#x2F;&#x2F;Sun Microsystems, Inc.&#x2F;&#x2F;DTD Web Application 2.3&#x2F;&#x2F;EN&quot;
 &quot;http:&#x2F;&#x2F;java.sun.com&#x2F;dtd&#x2F;web-app_2_3.dtd&quot; &gt;

&lt;web-app xmlns&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&quot;
         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_4_0.xsd&quot;
         version&#x3D;&quot;4.0&quot;&gt;
  &lt;display-name&gt;Archetype Created Web Application&lt;&#x2F;display-name&gt;

  &lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
    &lt;param-value&gt;classpath:spring&#x2F;spring.xml&lt;&#x2F;param-value&gt;
  &lt;&#x2F;context-param&gt;
  &lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;&#x2F;listener-class&gt;
  &lt;&#x2F;listener&gt;

  &lt;!--配置springmvc--&gt;
  &lt;!--配置前端控制器--&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;classpath:spring&#x2F;springmvc.xml&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;load-on-startup&gt;1&lt;&#x2F;load-on-startup&gt;
  &lt;&#x2F;servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;servlet-mapping&gt;

  &lt;!--中文乱码--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;&#x2F;filter-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;UTF-8&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;forceEncoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;true&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;

  &lt;!--rest风格的请求--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;&#x2F;filter-class&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;
&lt;&#x2F;web-app&gt;



三、配置springmvc.xml和spring.xmlspringmvc和spring最好整合成两个容器，这样便于管理组件，分工明确。
springmvc主要负责视图解析，文件上传，请求转发重定向等。
springmvc.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;
    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot; use-default-filters&#x3D;&quot;false&quot;&gt;
        &lt;context:include-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--视图解析器--&gt;
    &lt;bean class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;WEB-INF&#x2F;pages&#x2F;&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--文件上传--&gt;
    &lt;bean id&#x3D;&quot;multipartResolver&quot; class&#x3D;&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
        &lt;property name&#x3D;&quot;maxUploadSize&quot; value&#x3D;&quot;#{1024*1024*20}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;defaultEncoding&quot; value&#x3D;&quot;utf-8&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--扫描静态资源--&gt;
    &lt;mvc:default-servlet-handler&#x2F;&gt;
    &lt;!--扫描动态资源--&gt;
    &lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;


&lt;&#x2F;beans&gt;


spring则主要负责service层和dao持久层
spring.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;
       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;

    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot;&gt;
        &lt;context:exclude-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--数据库配置信息--&gt;
    &lt;context:property-placeholder location&#x3D;&quot;classpath:dbconfig.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;
    &lt;!--配置数据源--&gt;
    &lt;bean id&#x3D;&quot;c3p0&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;${jdbc.user}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;${jdbc.password}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;${jdbc.driverClass}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;maxPoolSize&quot; value&#x3D;&quot;${jdbc.maxPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;minPoolSize&quot; value&#x3D;&quot;${jdbc.minPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--配置mybatis操作数据库--&gt;
    &lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;!--配置mybatis配置文件--&gt;
        &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
        &lt;!--指定xml映射文件的位置--&gt;
        &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;!--指定dao接口所在的包--&gt;
        &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;
    &lt;bean id&#x3D;&quot;tm&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--基于xml配置事务，哪些方法切入事务--&gt;
    &lt;aop:config&gt;
        &lt;!--配置切入点--&gt;
        &lt;aop:pointcut id&#x3D;&quot;myPoint&quot; expression&#x3D;&quot;execution(* com.louis.ssm.service.*.*(..))&quot;&#x2F;&gt;
        &lt;aop:advisor advice-ref&#x3D;&quot;myTx&quot; pointcut-ref&#x3D;&quot;myPoint&quot;&#x2F;&gt;
    &lt;&#x2F;aop:config&gt;

    &lt;!--配置十五增强，事务属性，事务建议--&gt;
    &lt;tx:advice id&#x3D;&quot;myTx&quot; transaction-manager&#x3D;&quot;tm&quot;&gt;
        &lt;!--配置事务属性--&gt;
        &lt;tx:attributes&gt;
            &lt;tx:method name&#x3D;&quot;*&quot;&#x2F;&gt;
        &lt;&#x2F;tx:attributes&gt;
    &lt;&#x2F;tx:advice&gt;
&lt;&#x2F;beans&gt;


其中spring.xml中也整合了mybatis：
其配置如下：
1
2
3
4
5
6
7
8
9
10
11
12
&lt;!--配置mybatis操作数据库--&gt;
&lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;!--配置mybatis配置文件--&gt;
    &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;!--指定xml映射文件的位置--&gt;
    &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;
&lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;!--指定dao接口所在的包--&gt;
    &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;


mybatis-config.xml是mybatis的全局配置文件，其内容和正常的mybatis-config.xml配置不同，数据库的配置和数据xml映射文件的配置都放在了spring.xml中，其内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;
        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;settings&gt;
        &lt;setting name&#x3D;&quot;mapUnderscoreToCamelCase&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启属性延迟加载--&gt;
        &lt;setting name&#x3D;&quot;lazyLoadingEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;
        &lt;!--开启属性按需加载--&gt;
        &lt;setting name&#x3D;&quot;aggressiveLazyLoading&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启二级缓存--&gt;
&lt;!--        &lt;setting name&#x3D;&quot;cacheEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;--&gt;
    &lt;&#x2F;settings&gt;
&lt;&#x2F;configuration&gt;




四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#two"><span class="toc-number"></span> <span class="toc-text">二、配置web.xml主要是在web.xml中配置spring容器和springmvc的前端控制器以及中文乱码和rest风格的请求
web.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
&lt;!DOCTYPE web-app PUBLIC
 &quot;-&#x2F;&#x2F;Sun Microsystems, Inc.&#x2F;&#x2F;DTD Web Application 2.3&#x2F;&#x2F;EN&quot;
 &quot;http:&#x2F;&#x2F;java.sun.com&#x2F;dtd&#x2F;web-app_2_3.dtd&quot; &gt;

&lt;web-app xmlns&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&quot;
         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_4_0.xsd&quot;
         version&#x3D;&quot;4.0&quot;&gt;
  &lt;display-name&gt;Archetype Created Web Application&lt;&#x2F;display-name&gt;

  &lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
    &lt;param-value&gt;classpath:spring&#x2F;spring.xml&lt;&#x2F;param-value&gt;
  &lt;&#x2F;context-param&gt;
  &lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;&#x2F;listener-class&gt;
  &lt;&#x2F;listener&gt;

  &lt;!--配置springmvc--&gt;
  &lt;!--配置前端控制器--&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;classpath:spring&#x2F;springmvc.xml&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;load-on-startup&gt;1&lt;&#x2F;load-on-startup&gt;
  &lt;&#x2F;servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ssm&lt;&#x2F;servlet-name&gt;
    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;servlet-mapping&gt;

  &lt;!--中文乱码--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;&#x2F;filter-class&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;UTF-8&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;forceEncoding&lt;&#x2F;param-name&gt;
      &lt;param-value&gt;true&lt;&#x2F;param-value&gt;
    &lt;&#x2F;init-param&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;

  &lt;!--rest风格的请求--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;&#x2F;filter-class&gt;
  &lt;&#x2F;filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;hiddenHttpMethodFilter&lt;&#x2F;filter-name&gt;
    &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;
  &lt;&#x2F;filter-mapping&gt;
&lt;&#x2F;web-app&gt;



三、配置springmvc.xml和spring.xmlspringmvc和spring最好整合成两个容器，这样便于管理组件，分工明确。
springmvc主要负责视图解析，文件上传，请求转发重定向等。
springmvc.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;
    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot; use-default-filters&#x3D;&quot;false&quot;&gt;
        &lt;context:include-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--视图解析器--&gt;
    &lt;bean class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;WEB-INF&#x2F;pages&#x2F;&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--文件上传--&gt;
    &lt;bean id&#x3D;&quot;multipartResolver&quot; class&#x3D;&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
        &lt;property name&#x3D;&quot;maxUploadSize&quot; value&#x3D;&quot;#{1024*1024*20}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;defaultEncoding&quot; value&#x3D;&quot;utf-8&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--扫描静态资源--&gt;
    &lt;mvc:default-servlet-handler&#x2F;&gt;
    &lt;!--扫描动态资源--&gt;
    &lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;


&lt;&#x2F;beans&gt;


spring则主要负责service层和dao持久层
spring.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;
       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;

    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot;&gt;
        &lt;context:exclude-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--数据库配置信息--&gt;
    &lt;context:property-placeholder location&#x3D;&quot;classpath:dbconfig.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;
    &lt;!--配置数据源--&gt;
    &lt;bean id&#x3D;&quot;c3p0&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;${jdbc.user}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;${jdbc.password}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;${jdbc.driverClass}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;maxPoolSize&quot; value&#x3D;&quot;${jdbc.maxPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;minPoolSize&quot; value&#x3D;&quot;${jdbc.minPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--配置mybatis操作数据库--&gt;
    &lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;!--配置mybatis配置文件--&gt;
        &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
        &lt;!--指定xml映射文件的位置--&gt;
        &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;!--指定dao接口所在的包--&gt;
        &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;
    &lt;bean id&#x3D;&quot;tm&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--基于xml配置事务，哪些方法切入事务--&gt;
    &lt;aop:config&gt;
        &lt;!--配置切入点--&gt;
        &lt;aop:pointcut id&#x3D;&quot;myPoint&quot; expression&#x3D;&quot;execution(* com.louis.ssm.service.*.*(..))&quot;&#x2F;&gt;
        &lt;aop:advisor advice-ref&#x3D;&quot;myTx&quot; pointcut-ref&#x3D;&quot;myPoint&quot;&#x2F;&gt;
    &lt;&#x2F;aop:config&gt;

    &lt;!--配置十五增强，事务属性，事务建议--&gt;
    &lt;tx:advice id&#x3D;&quot;myTx&quot; transaction-manager&#x3D;&quot;tm&quot;&gt;
        &lt;!--配置事务属性--&gt;
        &lt;tx:attributes&gt;
            &lt;tx:method name&#x3D;&quot;*&quot;&#x2F;&gt;
        &lt;&#x2F;tx:attributes&gt;
    &lt;&#x2F;tx:advice&gt;
&lt;&#x2F;beans&gt;


其中spring.xml中也整合了mybatis：
其配置如下：
1
2
3
4
5
6
7
8
9
10
11
12
&lt;!--配置mybatis操作数据库--&gt;
&lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;!--配置mybatis配置文件--&gt;
    &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;!--指定xml映射文件的位置--&gt;
    &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;
&lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;!--指定dao接口所在的包--&gt;
    &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;


mybatis-config.xml是mybatis的全局配置文件，其内容和正常的mybatis-config.xml配置不同，数据库的配置和数据xml映射文件的配置都放在了spring.xml中，其内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;
        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;settings&gt;
        &lt;setting name&#x3D;&quot;mapUnderscoreToCamelCase&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启属性延迟加载--&gt;
        &lt;setting name&#x3D;&quot;lazyLoadingEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;
        &lt;!--开启属性按需加载--&gt;
        &lt;setting name&#x3D;&quot;aggressiveLazyLoading&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启二级缓存--&gt;
&lt;!--        &lt;setting name&#x3D;&quot;cacheEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;--&gt;
    &lt;&#x2F;settings&gt;
&lt;&#x2F;configuration&gt;




四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#two"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AEspringmvc-xml%E5%92%8Cspring-xml"><span class="toc-number"></span> <span class="toc-text">三、配置springmvc.xml和spring.xmlspringmvc和spring最好整合成两个容器，这样便于管理组件，分工明确。
springmvc主要负责视图解析，文件上传，请求转发重定向等。
springmvc.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;
    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot; use-default-filters&#x3D;&quot;false&quot;&gt;
        &lt;context:include-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--视图解析器--&gt;
    &lt;bean class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;WEB-INF&#x2F;pages&#x2F;&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--文件上传--&gt;
    &lt;bean id&#x3D;&quot;multipartResolver&quot; class&#x3D;&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
        &lt;property name&#x3D;&quot;maxUploadSize&quot; value&#x3D;&quot;#{1024*1024*20}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;defaultEncoding&quot; value&#x3D;&quot;utf-8&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--扫描静态资源--&gt;
    &lt;mvc:default-servlet-handler&#x2F;&gt;
    &lt;!--扫描动态资源--&gt;
    &lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;


&lt;&#x2F;beans&gt;


spring则主要负责service层和dao持久层
spring.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;
       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;

    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot;&gt;
        &lt;context:exclude-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--数据库配置信息--&gt;
    &lt;context:property-placeholder location&#x3D;&quot;classpath:dbconfig.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;
    &lt;!--配置数据源--&gt;
    &lt;bean id&#x3D;&quot;c3p0&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;${jdbc.user}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;${jdbc.password}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;${jdbc.driverClass}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;maxPoolSize&quot; value&#x3D;&quot;${jdbc.maxPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;minPoolSize&quot; value&#x3D;&quot;${jdbc.minPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--配置mybatis操作数据库--&gt;
    &lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;!--配置mybatis配置文件--&gt;
        &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
        &lt;!--指定xml映射文件的位置--&gt;
        &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;!--指定dao接口所在的包--&gt;
        &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;
    &lt;bean id&#x3D;&quot;tm&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--基于xml配置事务，哪些方法切入事务--&gt;
    &lt;aop:config&gt;
        &lt;!--配置切入点--&gt;
        &lt;aop:pointcut id&#x3D;&quot;myPoint&quot; expression&#x3D;&quot;execution(* com.louis.ssm.service.*.*(..))&quot;&#x2F;&gt;
        &lt;aop:advisor advice-ref&#x3D;&quot;myTx&quot; pointcut-ref&#x3D;&quot;myPoint&quot;&#x2F;&gt;
    &lt;&#x2F;aop:config&gt;

    &lt;!--配置十五增强，事务属性，事务建议--&gt;
    &lt;tx:advice id&#x3D;&quot;myTx&quot; transaction-manager&#x3D;&quot;tm&quot;&gt;
        &lt;!--配置事务属性--&gt;
        &lt;tx:attributes&gt;
            &lt;tx:method name&#x3D;&quot;*&quot;&#x2F;&gt;
        &lt;&#x2F;tx:attributes&gt;
    &lt;&#x2F;tx:advice&gt;
&lt;&#x2F;beans&gt;


其中spring.xml中也整合了mybatis：
其配置如下：
1
2
3
4
5
6
7
8
9
10
11
12
&lt;!--配置mybatis操作数据库--&gt;
&lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;!--配置mybatis配置文件--&gt;
    &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;!--指定xml映射文件的位置--&gt;
    &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;
&lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;!--指定dao接口所在的包--&gt;
    &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;


mybatis-config.xml是mybatis的全局配置文件，其内容和正常的mybatis-config.xml配置不同，数据库的配置和数据xml映射文件的配置都放在了spring.xml中，其内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;
        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;settings&gt;
        &lt;setting name&#x3D;&quot;mapUnderscoreToCamelCase&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启属性延迟加载--&gt;
        &lt;setting name&#x3D;&quot;lazyLoadingEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;
        &lt;!--开启属性按需加载--&gt;
        &lt;setting name&#x3D;&quot;aggressiveLazyLoading&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启二级缓存--&gt;
&lt;!--        &lt;setting name&#x3D;&quot;cacheEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;--&gt;
    &lt;&#x2F;settings&gt;
&lt;&#x2F;configuration&gt;




四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#three"><span class="toc-number"></span> <span class="toc-text">三、配置springmvc.xml和spring.xmlspringmvc和spring最好整合成两个容器，这样便于管理组件，分工明确。
springmvc主要负责视图解析，文件上传，请求转发重定向等。
springmvc.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;
    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot; use-default-filters&#x3D;&quot;false&quot;&gt;
        &lt;context:include-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--视图解析器--&gt;
    &lt;bean class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;WEB-INF&#x2F;pages&#x2F;&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--文件上传--&gt;
    &lt;bean id&#x3D;&quot;multipartResolver&quot; class&#x3D;&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
        &lt;property name&#x3D;&quot;maxUploadSize&quot; value&#x3D;&quot;#{1024*1024*20}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;defaultEncoding&quot; value&#x3D;&quot;utf-8&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--扫描静态资源--&gt;
    &lt;mvc:default-servlet-handler&#x2F;&gt;
    &lt;!--扫描动态资源--&gt;
    &lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;


&lt;&#x2F;beans&gt;


spring则主要负责service层和dao持久层
spring.xml内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;
       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;
       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;
       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;
       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd
                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;

    &lt;!--包扫描--&gt;
    &lt;context:component-scan base-package&#x3D;&quot;com.louis.ssm&quot;&gt;
        &lt;context:exclude-filter type&#x3D;&quot;annotation&quot; expression&#x3D;&quot;org.springframework.stereotype.Controller&quot;&#x2F;&gt;
    &lt;&#x2F;context:component-scan&gt;

    &lt;!--数据库配置信息--&gt;
    &lt;context:property-placeholder location&#x3D;&quot;classpath:dbconfig.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;
    &lt;!--配置数据源--&gt;
    &lt;bean id&#x3D;&quot;c3p0&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;${jdbc.user}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;${jdbc.password}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;${jdbc.driverClass}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;maxPoolSize&quot; value&#x3D;&quot;${jdbc.maxPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;minPoolSize&quot; value&#x3D;&quot;${jdbc.minPoolSize}&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--配置mybatis操作数据库--&gt;
    &lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;!--配置mybatis配置文件--&gt;
        &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
        &lt;!--指定xml映射文件的位置--&gt;
        &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;!--指定dao接口所在的包--&gt;
        &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;
    &lt;!--配置事务控制，事务管理器，控制数据源里面的关闭和提交--&gt;
    &lt;bean id&#x3D;&quot;tm&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
        &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;&#x2F;bean&gt;

    &lt;!--基于xml配置事务，哪些方法切入事务--&gt;
    &lt;aop:config&gt;
        &lt;!--配置切入点--&gt;
        &lt;aop:pointcut id&#x3D;&quot;myPoint&quot; expression&#x3D;&quot;execution(* com.louis.ssm.service.*.*(..))&quot;&#x2F;&gt;
        &lt;aop:advisor advice-ref&#x3D;&quot;myTx&quot; pointcut-ref&#x3D;&quot;myPoint&quot;&#x2F;&gt;
    &lt;&#x2F;aop:config&gt;

    &lt;!--配置十五增强，事务属性，事务建议--&gt;
    &lt;tx:advice id&#x3D;&quot;myTx&quot; transaction-manager&#x3D;&quot;tm&quot;&gt;
        &lt;!--配置事务属性--&gt;
        &lt;tx:attributes&gt;
            &lt;tx:method name&#x3D;&quot;*&quot;&#x2F;&gt;
        &lt;&#x2F;tx:attributes&gt;
    &lt;&#x2F;tx:advice&gt;
&lt;&#x2F;beans&gt;


其中spring.xml中也整合了mybatis：
其配置如下：
1
2
3
4
5
6
7
8
9
10
11
12
&lt;!--配置mybatis操作数据库--&gt;
&lt;bean id&#x3D;&quot;sqlSessionFactoryBean&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;!--配置mybatis配置文件--&gt;
    &lt;property name&#x3D;&quot;configLocation&quot; value&#x3D;&quot;classpath:mybatis&#x2F;mybatis-config.xml&quot;&gt;&lt;&#x2F;property&gt;
    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;c3p0&quot;&gt;&lt;&#x2F;property&gt;
    &lt;!--指定xml映射文件的位置--&gt;
    &lt;property name&#x3D;&quot;mapperLocations&quot; value&#x3D;&quot;classpath:com&#x2F;louis&#x2F;ssm&#x2F;dao&#x2F;EmployeeDao.xml&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;
&lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;!--指定dao接口所在的包--&gt;
    &lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.louis.ssm.dao&quot;&gt;&lt;&#x2F;property&gt;
&lt;&#x2F;bean&gt;


mybatis-config.xml是mybatis的全局配置文件，其内容和正常的mybatis-config.xml配置不同，数据库的配置和数据xml映射文件的配置都放在了spring.xml中，其内容如下：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;
        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;settings&gt;
        &lt;setting name&#x3D;&quot;mapUnderscoreToCamelCase&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启属性延迟加载--&gt;
        &lt;setting name&#x3D;&quot;lazyLoadingEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;
        &lt;!--开启属性按需加载--&gt;
        &lt;setting name&#x3D;&quot;aggressiveLazyLoading&quot; value&#x3D;&quot;false&quot;&#x2F;&gt;
        &lt;!--开启二级缓存--&gt;
&lt;!--        &lt;setting name&#x3D;&quot;cacheEnabled&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;--&gt;
    &lt;&#x2F;settings&gt;
&lt;&#x2F;configuration&gt;




四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#three"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%95%B4%E5%90%88%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number"></span> <span class="toc-text">四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#four"><span class="toc-number"></span> <span class="toc-text">四、整合过程中遇到的问题4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException原因：缺少spring-aspects
解决：
1
2
3
4
5
6
&lt;!--缺少的包--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
  &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;
  &lt;version&gt;5.1.12.RELEASE&lt;&#x2F;version&gt;
&lt;dependency&gt;


4.2、异常java.lang.NoSuchMethodError原因：mybatis版本过低
解决：mybatis版本得在3.4.2或者以上版本
4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener原因：项目在部署之后spring-web并没有部署到WEB-INF&#x2F;lib目录下
解决：
File-&gt;Project Structure点击左侧的Artifacts,然后找到Output Layout选项卡
右键单击Available Elements下面的项目名称，选择Put into Output Root

</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#four"><span class="toc-number"></span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E3%80%81java-lang-NoClassDefFoundError-org-aspectj-weaver-reflect-ReflectionWorld-ReflectionWorldException"><span class="toc-number">1.</span> <span class="toc-text">4.1、java.lang.NoClassDefFoundError: org&#x2F;aspectj&#x2F;weaver&#x2F;reflect&#x2F;ReflectionWorld$ReflectionWorldException</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E3%80%81%E5%BC%82%E5%B8%B8java-lang-NoSuchMethodError"><span class="toc-number">2.</span> <span class="toc-text">4.2、异常java.lang.NoSuchMethodError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81java-lang-ClassNotFoundException-org-springframework-web-context-ContextLoaderListener"><span class="toc-number">3.</span> <span class="toc-text">4.3、java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener</span></a></li></ol>
      </li>
    </ul>
  </div>



    <div id="comment" class="mdui-card mdui-p-a-2 mdui-m-b-5">
      <div class="mdui-tab" mdui-tab>
        
          <a href="#comment-tab0" class="mdui-ripple">gitalk</a>
        
          <a href="#comment-tab1" class="mdui-ripple">livere</a>
        
      </div>
      
        <div id="comment-tab0" class="mdui-p-a-2">
          <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
    clientID: '',
    clientSecret: '',
    repo: '',
    owner: '',
    admin: [''],
    id:  md5(location.pathname) ,
    distractionFreeMode: 'true',
  });
  gitalk.render('gitalk-container');
</script>
        </div>
      
        <div id="comment-tab1" class="mdui-p-a-2">
          <div id="lv-container" data-id="city" data-uid="">
  <script type="text/javascript">
    (function (d, s) {
      var j, e = d.getElementsByTagName(s)[0];
      if (typeof LivereTower === 'function') { return; }
      j = d.createElement(s);
      j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
      j.async = true;
      e.parentNode.insertBefore(j, e);
    })(document, 'script');
  </script>
  <noscript>Please enable JavaScript to view the comments powered by LiveRe.</noscript>
</div>
        </div>
      
    </div>

  </main>
  <footer id="footer" class="mdui-text-center mdui-m-t-5 mdui-p-b-2 mdui-p-t-4 mdui-color-theme">
  <div class="mdui-container">
    <div class="mdui-row">
      
        <a href="https://beian.miit.gov.cn" rel="noopener" target="_blank"></a>
      
      <span>
        &copy; 2015 - 2021 
        
          <span style="color:#d9333f" class="iconfont icon-heart"></span>
        
        Louis
      </span>
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span>Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span>Theme: <a href="https://github.com/kb1000fx/Meadow" rel="noopener" target="_blank">Meadow</a></span>
        </div>
      
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span id="busuanzi_container_site_uv" style="display: none;"> <span class="iconfont icon-user"></span>总访客量 <span id="busuanzi_value_site_uv"></span></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span id="busuanzi_container_site_pv" style="display: none;"> <span class="iconfont icon-eye"></span>总访问量 <span id="busuanzi_value_site_pv"></span></span>
        </div>
      
    </div>
 </div>
</footer>
  
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-teal" style="z-index:100;"><i class="iconfont icon-arrowup"></i></button>
  
  

    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




    
<script src="/js/mdui.min.v1.0.0.js"></script>




<script src="/js/meadow.js"></script>

</body>
</html >